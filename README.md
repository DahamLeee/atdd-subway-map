# 지하철 노선도 미션
[ATDD 강의](https://edu.nextstep.camp/c/R89PYi5H) 실습을 위한 지하철 노선도 애플리케이션

## 인수 테스트 미션 To-Do List

---

### step 0 - 리뷰 사이클 연습
1. StationAcceptanceTest 에 인수 테스트 메서드를 작성
   1. 지하철역 조회
   2. 지하철역 제거

### step 1 - 지하철역 인수 테스트 작성
1. step 0에서 간단하게 작성한 2개의 테스트를 완성
   1. 지하철역 목록 조회 인수 테스트 작성
   2. 지하철역 삭제 인수 테스트 작성
2. 테스트 완성 이후에 공통 메서드 추출

### step 2 - 지하철 노선 기능
0. step 1 피드백 리스트
   1. 테스트 코드 또한 가독성이 매우 중요! -> 한글 사용과 같은 직관적인 변수명을 사용!
   2. 지하철역 삭제 기능에서 1L을 PathVariable 에 하드코딩하였는데, 등록한 지하철역의 ID를 읽어서 사용!
   3. 등록, 삭제, 조회 모두 응답이 정해져있고, status 가 존재하기 때문에 전체적으로 다 검증 진행!
1. 프로그래밍 요구사항에 맞춰 지하철 노선 관리 기능을 구현
2. 인수 조건을 검증하는 인수 테스트 작성 (given - when - then) (@DisplayName, @Test)
3. 인수 테스트를 충족하는 기능 구현 (Business Logic)
4. 인수 테스트의 결과가 다른 인수 테스트에 영향을 끼치지 않도록 인수 테스트를 서로 격리
   1. @DirtiesContext
   2. @Sql
   3. Table Truncate
   4. @AfterEach
5. 모든 기능이 구현된 이후에 가독성, 빠른 의도 파악을 위한 리팩터링

### step 3 - 지하철 구간 관리
1. 지하철 노선에 구간을 등록하는 기능 구현
   1. `새로운 구간의 상행역`은 해당 노선에 등록되어있는 `하행 종점역`이어야 한다.
   2. 새로운 구간의 하행역은 해당 노선에 등록되어있는 역일 수 없다. `(기존에 존재하는 역X)`
2. 새로운 구간 등록시 위 조건에 부합하지 않는 경우 `에러 처리`한다.
3. 지하철 노선에 구간을 제거하는 기능 구현
   1. 지하철 노선에 등록된 역(하행 종점역)만 제거할 수 있다. 즉, `마지막 구간만 제거할 수 있다.`
   2. 지하철 노선에 상행 종점역과 하행 종점역만 있는 경우`(구간이 1개인 경우) 역을 삭제할 수 없다.`
4. 새로운 구간 제거시 위 조건에 부합하지 않는 경우 에러 처리한다.